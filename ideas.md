Концепция: небольшой инструмент-сервер, по запросу сохраняющий состояние веб-страниц (переданную страницу или по url, который попытается зарендериться в headless-браузере на сервере) в NoSQL-бд


### Сохранение
хранить в БД страницы и, рядом с ними, статические файлы, а также скриншот-превью "стартовой" страницы
для одинаковых URL хранить разные версии страницы, с указанным временем загрузки

при "сохранении" страницы, рекурсивно проходится по ссылкам на этой странице к тому же домену, что и в стартовой странице
для изображений при этом цеплять "static/saved_page_id" или типа того, который будет вести к соответствующим пикчам/скриптам и т.д.

алгоритм:
- проверить, нет ли этой страницы в списке только пройденных, и нет ли ранее загруженных её версий
- загрузить страницу (дождаться загрузки, с теми приколами чтобы убрать обнаружение headless-сервака)
    - если это не этот домен, или вернулся не html, или код ответа не тот - вернуть ошибку
- пройтись по DOM:
    - загрузить из заголовков скрипты и стили как статику
    - пройти по каждой ссылке на статику, и загрузить её
    - добавить прочие ссылки на странице (из того же домена) в очередь на обработку 
    - сохранить результирующий DOM ("сплюснуть"?)
    - если не отличается от предыдущего полученного варианта, если такие были 
    - добавить ссылку (без параметров) в список пройденных
    - начать новую страницу из очереди

- загрузка статики:
    - загрузить содержимое
    - сохранить в БД
    - поменять в результирующем DOM ссылку на новый формат (локальную, чтобы обращение шло к серверу)

- при скраппинге одной страницы, подменять уже ранее сохраненные ссылки на "локальные", отдельной опцией?

#### Скраппер
Выносить рабочие функции в отдельные модули, чтобы не перегружать класс.

Каждый отдельный запрос добавлять в "очередь задач" скраппера, чтобы контекст "пройденных-очередных" страниц был для каждой задачи свой. 

(???) отдельный модуль/методы для скраппинга, которые рекурсивно (с учетом максимальной глубины) скрапит страницы домена

#### Утилиты
Сделать функции для сохранения/выдачи/поиска html, стилей, изображений и т.д. для работы с БД.

#### YT-DL
Прицепить функционал загрузки этой утилиты в удобном виде?

#### Выгрузка
Добавить опцию выгрузки сохраненной страницы одним html-файлом (воткнуть туда привязанные статики).

#### Firefox
Попробовать сделать плагин, отправляющий URL и содержимое указанной вкладки на хранение.